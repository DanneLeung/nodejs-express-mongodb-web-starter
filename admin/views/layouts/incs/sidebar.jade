// Left side column. contains the logo and sidebar
mixin menuList(m)
  if(!m.children || !m.children.length)
    li(class=" #{isActive(m.link)}")
      a(href='#{m.link}')
        i(class="#{m.iconClass ? m.iconClass:'fa fa-circle-o'} fa-fw")
        | #{m.title}
  else
    //- li(class="#{((currentMenu && currentMenu.lineage.startsWith(m.lineage)) || m.link === originalUrl)?'active':''}")
    li(class="")
      a(href='#')
        i(class="#{m.iconClass ? m.iconClass:'fa fa-circle-o'} fa-fw")
        span #{m.title}
        i.fa.fa-angle-left.pull-right
      ul.treeview-menu
        each a in m.children
          +menuList(a)


aside.main-sidebar
  // sidebar: style can be found in sidebar.less
  section.sidebar
    // Sidebar user panel (optional)
    .user-panel
      .pull-left.image
        -if(req.user)
          img.img-circle(src='#{req.user.photo_profile ? req.user.photo_profile : "/themes/default/dist/img/avatar.png"}', alt='头像')

      .pull-left.info
        p #{req.isAuthenticated() ? User.username : 'Please log in'}
        // Status
        a(href='#')
          i.fa.fa-circle.text-success
          |  #{req.isAuthenticated() ? 'Online' : 'Offline'}
    // search form (Optional)
    //form.sidebar-form(action='#', method='get')
    //  .input-group
    //    input.form-control(type='text', name='q', placeholder='Search...')
    //
    //    span.input-group-btn
    //      button#search-btn.btn.btn-flat(type='submit', name='search')
    //        i.fa.fa-search
    // /.search form
    // Sidebar Menu
    ul.sidebar-menu
      li.header 导航菜单
      // Optionally, you can add icons to the links
      //li
        a(href='/dashboard')
          i.fa.fa-dashboard
          span 仪表盘
      if(req.session.menus)
        each m in req.session.menus
          +menuList(m)
      //- li(class="treeview #{isActive('/member')}")
      //-   a(href='#')
      //-     i.fa.fa-users
      //-     span 会员管理
      //-     i.fa.fa-angle-left.pull-right
      //-   ul.treeview-menu
      //-     li(class="#{isActive('/member/list')}")
      //-       a(href='/member/list')
      //-         i.fa.fa-user
      //-         span 会员信息
      //-     li(class="#{isActive('/member/action/list')}")
      //-       a(href='/member/action/list')
      //-         i.fa.fa-paw
      //-         span 会员行为

      //- li(class="treeview #{isActive('/product')}")
      //-   a(href='#')
      //-     i.fa.fa-gift
      //-     span 商品管理
      //-     i.fa.fa-angle-left.pull-right
      //-   ul.treeview-menu
      //-     li(class="#{isActive('/product/productClass/list')}")
      //-       a(href='/supplier/productClass/list')
      //-         i.fa.fa-group
      //-         span 分类
      //-     li(class="#{isActive('/product/list')}")
      //-       a(href='/supplier/list')
      //-         i.fa.fa-group
      //-         span 商品库

      //- li(class="treeview #{isActive('/supplier')}")
      //-   a(href='#')
      //-     i.fa.fa-truck
      //-     span 供应商管理
      //-     i.fa.fa-angle-left.pull-right
      //-   ul.treeview-menu
      //-     li(class="#{isActive('/supplier/servicesType/list')}")
      //-       a(href='/supplier/servicesType/list')
      //-         i.fa.fa-group
      //-         span 分类
      //-     li(class="#{isActive('/supplier/service/list')}")
      //-       a(href='/supplier/service/list')
      //-         i.fa.fa-group
      //-         span 供应商
      //- li(class="treeview #{isActive('/wechat')}")
      //-   a(href='#')
      //-     i.fa.fa-wechat
      //-     span 微信平台
      //-     i.fa.fa-angle-left.pull-right
      //-   ul.treeview-menu
      //-     li(class="#{isActive('/wechat/apps')}")
      //-       a(href='/wechat/apps/list/')
      //-         i.fa.fa-cubes
      //-         span 应用模块
      //-     li
      //-       a(href='/member/list')
      //-         i.fa.fa-group
      //-         span 微信粉丝
      //-     li
      //-       a(href='/member/groupList')
      //-         i.fa.fa-group
      //-         span 微信粉丝分组
      //- li(class="treeview #{isActive('/system')}")
      //-   a(href='/system/user')
      //-     i.fa.fa-gear
      //-     span 系统管理
      //-     i.fa.fa-angle-left.pull-right
      //-   ul.treeview-menu
      //-     li(class="#{isActive('/system/module')}")
      //-       a(href='/system/module/')
      //-         i.fa.fa-gear
      //-         span 功能模块
      //-     li(class="#{isActive('/system/menu')}")
      //-       a(href='/system/menu/')
      //-         i.fa.fa-gear
      //-         span 菜单设置
      //-      li(class="#{isActive('/system/user')}")
      //-       a(href='/system/user/')
      //-         i.fa.fa-gear
      //-         span 系统用户
      //-     li(class="#{isActive('/system/role')}")
      //-       a(href='/system/role/')
      //-         i.fa.fa-gear
      //-         span 系统角色
      //-     li(class="#{isActive('/system/permission')}")
      //-       a(href='/system/permission/')
      //-         i.fa.fa-gear
      //-         span 权限管理
      //-     li(class="#{isActive('/system/setting')}")
      //-       a(href='/system/setting')
      //-         i.fa.fa-gear
      //-         span 系统设定
      //-     li(class="#{isActive('/system/message')}")
      //-       a(href='/system/message')
      //-         i.fa.fa-gear
      //-         span 提示信息
      //-     li(class="#{isActive('/setting/paymentSetting')}")
      //-       a(href='/setting/paymentSetting')
      //-         i.fa.fa-gear
      //-         span 支付方式
      //-     li(class="#{isActive('/setting/smsSetting')}")
      //-       a(href='/setting/smsSetting')
      //-         i.fa.fa-gear
      //-         span 短信通道
      //-     li(class="#{isActive('/system/job')}")
      //-       a(href='/system/job/list')
      //-         i.fa.fa-gear
      //-         span 定时任务
      //- li(class="treeview #{isActive('/assist')}")
      //-   a(href='#')
      //-     i.fa.fa-smile-o
      //-     span 辅助
      //-     i.fa.fa-angle-left.pull-right
      //-   ul.treeview-menu
      //-     li(class="#{isActive('/assist/icons')}")
      //-       a(href='/themes/default/pages/UI/icons.html')
      //-         i.fa.fa-info
      //-         span 图标

// /.sidebar-menu
// /.sidebar
